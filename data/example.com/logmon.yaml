---
classes:
    - cfdb

# Just for reference, this settings must be set during host init
cfsystem::hierapool::location: 'somelocation'
cfsystem::hierapool::pool: 'infra'

cfnetwork::main:
    device: "%{ifacename.1}"
    address:
        - '10.10.1.21/24'
        - 'fd1f:c43f:e6e0:85c9::1:21/112'
    gateway:
        - '10.10.1.254'
        - 'fd1f:c43f:e6e0:85c9::1:fffe'

cfnetwork::ifaces:
    vagrant:
        device: "%{ifacename.0}"
        method: dhcp
        address: '10.0.2.0/24'

cfdb::instances:
    logsink:
        type: elasticsearch
        scheduled_actions:
            cleanup_access:
                type: cleanup_old
                prefix: access
                unit_count: 2
            cleanup_fw:
                type: cleanup_old
                prefix: fw
                unit_count: 1
                cron:
                    hour: 1
            cleanup_log:
                type: cleanup_old
                prefix: log
                unit_count: 2

cflogsink::server: true